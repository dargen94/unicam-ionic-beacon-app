<ion-view view-title="Dispositivi">
  <!-- Contenuto della pagina principale -->
  <ion-content>
    <md-card data-ng-repeat="device in devices">
      <md-toolbar class="md-whiteframe-z2">
          <div layout="row" layout-align="center center">
            <p class="margin-home">Device numero {{$index + 1}}</p>
          </div>
        </md-toolbar>
        <md-card-title>
          <md-card-content  style="margin-top: -16px;">
        <strong class="rosso">Nome:</strong> {{device.name}}<br>
        <strong class="verde">Descrizione:</strong> {{device.description}}<br>
        <span ng-if="device._beacon"><strong  class="rosso"> Proximity:</strong> {{device.proximity}}<br></span>
        <span ng-if="device._beacon "><strong class="arancione"> Distanza:</strong> {{device.accuracy}}<br></span>
        <md-switch ng-if="(device._beacon.uuid === 0 || !device.automatic) && device.type === 'Lampada'" ng-disabled="device.disable" ng-model="device._GPIO.value" ng-change="change_state(device)"> {{device._GPIO.value ? "Spegni" : "Accendi"}}
        </md-switch>
          </md-card-content>
        </md-card-title>
        <md-card-actions  style="margin-top: -32px;" layout="row" layout-align="end end" >
          <md-button ng-if="(device.uuid === 0 || !device.automatic) && device.type === 'Apriporta'" ng-disabled="device.disable" ng-model="device._GPIO.value" ng-click="open(device);"  class="md-raised md-primary">Apri</md-button>
        </md-card-actions>
          </md-card>
    <div class="list">
      <div data-ng-if="!devices.length" class="card">
        <div class="item white-background item-text-wrap">
          Nessun dispositivo trovato.
        </div>
      </div>
    </div>
</ion-view>
<md-button class="md-fab md-accent md-fab-bottom-right" aria-label="Add" on-tap="update()">
    <md-icon style="fill: white" md-svg-icon="img/refresh.svg"></md-icon>
  </md-button>
